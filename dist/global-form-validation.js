"use strict";(()=>{(function(){let S={DEBUG:!1},y=(...e)=>S.DEBUG&&console.log("[FORM-VALIDATION]",...e);function f(){return window.location.pathname.includes("/en")}function p(e){return f()?e:e.replace(/Numeric \(no standard format\)/g,"Numerisch (kein Standardformat)").replace(/digits/g,"Ziffern").replace(/letters/g,"Buchstaben").replace(/with optional space/g,"mit optionalem Leerzeichen").replace(/\bformat\b/gi,"Format").replace(/e\.g\./g,"z.B.").replace(/\bor\b/g,"oder")}let h={Germany:{pattern:/^(?:0[1-9]|[1-9][0-9])[0-9]{3}$/,min:1001,max:99998,format:"5 digits (01001-99998)"},Austria:{pattern:/^[1-9][0-9]{3}$/,format:"4 digits (1000-9999)"},Switzerland:{pattern:/^[1-9][0-9]{3}$/,format:"4 digits (1000-9999)"},"United Kingdom":{pattern:/^([A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}|GIR ?0AA)$/i,format:"UK format (e.g., SW1A 1AA)"},France:{pattern:/^(?:0[1-9]|[1-8][0-9]|9[0-8])[0-9]{3}$/,format:"5 digits (01000-98999)"},Italy:{pattern:/^[0-9]{5}$/,format:"5 digits (00010-99999)"},Spain:{pattern:/^(?:0[1-9]|[1-4][0-9]|5[0-2])[0-9]{3}$/,format:"5 digits (01000-52999)"},Netherlands:{pattern:/^[1-9][0-9]{3} ?[A-Z]{2}$/i,format:"4 digits + 2 letters (e.g., 1234 AB)"},Belgium:{pattern:/^[1-9][0-9]{3}$/,format:"4 digits (1000-9999)"},Poland:{pattern:/^[0-9]{2}-[0-9]{3}$/,format:"2 digits-3 digits (e.g., 00-999)"},Sweden:{pattern:/^[0-9]{3} ?[0-9]{2}$/,format:"5 digits with optional space (e.g., 123 45)"},Denmark:{pattern:/^[1-9][0-9]{3}$/,format:"4 digits (1000-9999)"},Norway:{pattern:/^[0-9]{4}$/,format:"4 digits (0001-9999)"},Finland:{pattern:/^[0-9]{5}$/,format:"5 digits (00000-99999)"},Portugal:{pattern:/^[1-9][0-9]{3}-[0-9]{3}$/,format:"4 digits-3 digits (e.g., 1000-999)"},"Czech Republic":{pattern:/^[0-9]{3} ?[0-9]{2}$/,format:"5 digits with optional space (e.g., 123 45)"},Hungary:{pattern:/^[1-9][0-9]{3}$/,format:"4 digits (1000-9999)"},Romania:{pattern:/^[0-9]{6}$/,format:"6 digits"},Greece:{pattern:/^[0-9]{3} ?[0-9]{2}$/,format:"5 digits with optional space"},Ireland:{pattern:/^(?:[A-Z][0-9]{2} ?[A-Z0-9]{4}|[A-Z]{3} ?[A-Z0-9]{4})$/i,format:"Irish format (e.g., D02 AF30)"},"United States":{pattern:/^[0-9]{5}(-[0-9]{4})?$/,format:"5 digits or 5+4 (e.g., 12345 or 12345-6789)"},Canada:{pattern:/^[A-Z][0-9][A-Z] ?[0-9][A-Z][0-9]$/i,format:"A1A 1A1 format"},Australia:{pattern:/^[0-9]{4}$/,format:"4 digits (0200-9999)"},"New Zealand":{pattern:/^[0-9]{4}$/,format:"4 digits (0110-9999)"},Japan:{pattern:/^[0-9]{3}-[0-9]{4}$/,format:"3 digits-4 digits (e.g., 100-0001)"},"South Korea":{pattern:/^[0-9]{5}$/,format:"5 digits"},China:{pattern:/^[0-9]{6}$/,format:"6 digits"},India:{pattern:/^[0-9]{6}$/,format:"6 digits"},Brazil:{pattern:/^[0-9]{5}-?[0-9]{3}$/,format:"5 digits-3 digits (e.g., 12345-678)"},Mexico:{pattern:/^[0-9]{5}$/,format:"5 digits"},Russia:{pattern:/^[0-9]{6}$/,format:"6 digits"}},u={ZIP_IS_VALID:!1,CAN_SUBMIT:!1,isEnglishSite:f,translateZipFormat:p,errorMessages:{zip_required:{de:"Bitte geben Sie eine g\xFCltige Postleitzahl ein",en:"Please enter a valid ZIP code"},zip_invalid:{de:"Ung\xFCltige Postleitzahl f\xFCr {country}. Erwartetes Format: {format}",en:"Invalid ZIP code for {country}. Expected format: {format}"},email_required:{de:"Bitte geben Sie eine E-Mail-Adresse ein",en:"Please enter an email address"},gender_required:{de:"Bitte w\xE4hlen Sie ein Geschlecht aus",en:"Please select a gender"},country_required:{de:"Bitte w\xE4hlen Sie ein Land aus",en:"Please select a country"},gdpr_required:{de:"Bitte akzeptieren Sie die Datenschutzerkl\xE4rung",en:"Please accept the privacy policy"},email_exists:{de:"Diese E-Mail-Adresse ist bereits registriert. Bitte verwenden Sie eine andere E-Mail-Adresse.",en:"This email is already registered. Please use a different email address."},signup_error:{de:"Bei der Verarbeitung Ihrer Anmeldung ist ein Problem aufgetreten. Bitte versuchen Sie es in einem Moment erneut.",en:"There was a problem processing your signup. Please try again in a moment."},network_error:{de:"Verbindungsfehler. Bitte \xFCberpr\xFCfen Sie Ihre Internetverbindung und versuchen Sie es erneut.",en:"Connection error. Please check your internet and try again."},generic_error:{de:"Etwas ist schiefgelaufen. Bitte versuchen Sie es erneut.",en:"Something went wrong. Please try again."}},getErrorMessage:function(e){let i=this.isEnglishSite()?"en":"de";return this.errorMessages[e]?this.errorMessages[e][i]:this.errorMessages.generic_error[i]},updateSubmitButtonState:function(){let e=document.querySelector("#wf-form-Waitlist-Form"),i=e&&(e.querySelector('input[name="Postleitzahl"], input[name="zip"]')||e.querySelector('select[name="gender"], select[name="Gender"], select[name="Geschlecht"]')||e.querySelector('#country, select[name="country"]'));if(e&&i){let t=e.querySelector('input[type="submit"], button[type="submit"], .w-button');t&&(this.ZIP_IS_VALID?t.hasAttribute("data-submitting")||(t.disabled=!1,t.style.opacity="1",t.style.cursor="pointer",t.removeAttribute("data-disabled-reason")):(t.disabled=!0,t.style.opacity="0.5",t.style.cursor="not-allowed",t.setAttribute("data-disabled-reason","invalid-zip")))}}},a={zipValid:!1,emailValid:!1,genderValid:!1,gdprValid:!1,countryValid:!1,checkFormValidity:function(){let e=document.querySelectorAll("#wf-form-Waitlist-Form"),i=this;e.forEach(function(t){if(!(t.querySelector('input[name="Postleitzahl"], input[name="zip"]')||t.querySelector('select[name="gender"], select[name="Gender"], select[name="Geschlecht"]')||t.querySelector('#country, select[name="country"]')))return;let n=t.querySelector('input[type="submit"], button[type="submit"], .w-button');if(n){let l=i.emailValid&&i.zipValid&&i.genderValid&&i.gdprValid&&i.countryValid;n.disabled=!l,n.style.opacity=l?"1":"0.6",n.style.cursor=l?"pointer":"not-allowed"}})}};function b(e,i){let t;return function(...n){let l=()=>{t=null,e.apply(this,n)};clearTimeout(t),t=setTimeout(l,i)}}function m(e,i,t,o){let n=e.closest(".form_field"),l=n?n.closest(".form_field-wrap"):null,r=l?l.querySelector(".form_validation"):null;switch(e.classList.remove("zip-validating","zip-valid","zip-invalid"),n&&n.classList.remove("error"),r&&r.classList.remove("show"),i){case"typing":e.classList.add("zip-validating");break;case"valid":e.classList.add("zip-valid"),e.setAttribute("aria-invalid","false");break;case"invalid":if(e.classList.add("zip-invalid"),e.setAttribute("aria-invalid","true"),n&&n.classList.add("error"),r&&(t||o)){let s=t;if(!s&&o&&o.format){let c=document.querySelector('#country, select[name="country"], select[name="Country"]'),d=c?c.value:"",V=p(o.format);s=u.getErrorMessage("zip_invalid").replace("{country}",d||"").replace("{format}",V)}s&&(r.textContent=s,r.classList.add("show"))}break;case"empty":e.setAttribute("aria-invalid","false");break}}function g(e,i,t,o){if(!i){m(e,"empty");return}let n=document.querySelector('#country, select[name="country"], select[name="Country"]'),l=n?n.value:"";if(!l){o&&m(e,"invalid","Please select a country first");return}let r=h[l];if(!r){m(e,"valid"),a.zipValid=!0,a.checkFormValidity();return}let s=r.pattern.test(i);if(s&&r.min&&r.max){let c=parseInt(i);s=c>=r.min&&c<=r.max}s?(a.zipValid=!0,m(e,"valid")):(a.zipValid=!1,o&&m(e,"invalid",null,r)),a.checkFormValidity()}function w(){let e=document.querySelectorAll('input[name="Postleitzahl"], input[id="Postleitzahl"], input[name="zip"], input[name="Zip"], input[name="ZIP"], input[id="zip"], input[id="Zip"], input[placeholder*="zip" i], input[placeholder*="postleitzahl" i], input[placeholder*="postal" i]');if(e.length===0)return;e.forEach(function(t){(!t.placeholder||t.placeholder.trim()==="")&&(t.placeholder=" "),t.value?g(t,t.value.trim(),!1,!1):(a.zipValid=!1,a.checkFormValidity());let o=b(function(){g(t,t.value.trim(),!1,!1)},500);t.addEventListener("input",function(n){n.target.value.trim()?(m(t,"typing"),o()):(a.zipValid=!1,a.checkFormValidity(),m(t,"empty"))}),t.addEventListener("blur",function(n){let l=n.target.value.trim();l?g(t,l,!0,!0):(a.zipValid=!1,a.checkFormValidity())}),t.setAttribute("aria-invalid","false")});let i=document.querySelector('#country, select[name="country"], select[name="Country"]');i&&(i.value||(i.value="Germany"),i.addEventListener("change",function(){e.forEach(function(t){t.value&&g(t,t.value.trim(),!1,!0)})}))}function A(){let e=document.querySelector("#wf-form-Waitlist-Form"),i=e&&(e.querySelector('input[name="Postleitzahl"], input[name="zip"]')||e.querySelector('select[name="gender"], select[name="Gender"], select[name="Geschlecht"]')||e.querySelector('#country, select[name="country"]'));if(!e||!i)return;e.querySelectorAll('input[type="email"], input[name="email"], input[name="Email"]').forEach(function(r){a.emailValid=r.value&&r.value.includes("@"),a.checkFormValidity(),r.addEventListener("input",function(s){a.emailValid=s.target.value&&s.target.value.includes("@"),a.checkFormValidity()}),r.addEventListener("blur",function(s){let c=s.target.closest(".form_field-wrap")||s.target.closest(".form_field");if(c){let d=c.querySelector(".form_validation");d&&(s.target.value?s.target.value.includes("@")?d.classList.remove("show"):(d.textContent=f()?"Please enter a valid email address":"Bitte geben Sie eine g\xFCltige E-Mail-Adresse ein",d.classList.add("show")):(d.textContent=u.getErrorMessage("email_required"),d.classList.add("show")))}})});let o=e.querySelector('input[type="checkbox"][name="checkbox"]');o&&(a.gdprValid=o.checked,o.addEventListener("change",function(r){var c;a.gdprValid=r.target.checked;let s=(c=r.target.closest(".form_field-wrap"))==null?void 0:c.querySelector(".form_validation");s&&(r.target.checked?s.classList.remove("show"):s.classList.add("show")),a.checkFormValidity()}));let n=e.querySelector('select[name="gender"], select[name="Gender"], select[name="Geschlecht"]');if(n){a.genderValid=n.value&&n.value!=="",n.addEventListener("change",function(s){a.genderValid=s.target.value&&s.target.value!=="";let c=s.target.closest(".form_field");if(c){let d=c.querySelector(".form_validation");d&&(s.target.value?d.classList.remove("show"):d.classList.add("show"))}a.checkFormValidity()});let r=e.querySelector(".nice-select .list");r&&r.addEventListener("click",function(s){s.target.tagName==="LI"&&setTimeout(function(){a.genderValid=n.value&&n.value!=="",a.checkFormValidity()},100)})}let l=e.querySelector('#country, select[name="country"], select[name="Country"]');l&&(a.countryValid=l.value&&l.value!=="",l.addEventListener("change",function(r){a.countryValid=r.target.value&&r.target.value!=="",a.checkFormValidity()})),a.checkFormValidity()}function v(){y("Initializing global form validation"),document.querySelectorAll(".w-form-done, .form_modal-form-sucess, .form-success-message").forEach(function(i){i.style.display="none"}),A(),setTimeout(function(){w()},1500),window.zipPatterns=h,window.FormValidator=u,window.FormState=a,Object.defineProperty(window,"FORM_ZIP_IS_VALID",{get:function(){return u.ZIP_IS_VALID},set:function(i){u.ZIP_IS_VALID=i}}),Object.defineProperty(window,"FORM_CAN_SUBMIT",{get:function(){return u.CAN_SUBMIT},set:function(i){u.CAN_SUBMIT=i}}),window.isEnglishSite=f,window.translateZipFormat=p,y("Global form validation ready")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",v):v()})();})();
