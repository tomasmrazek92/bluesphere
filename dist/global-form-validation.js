"use strict";(()=>{(function(){let w={DEBUG:!1},A=(...e)=>w.DEBUG&&console.log("[FORM-VALIDATION]",...e);function y(){return window.location.pathname.includes("/en")}function v(e){return y()?e:e.replace(/Numeric \(no standard format\)/g,"Numerisch (kein Standardformat)").replace(/digits/g,"Ziffern").replace(/letters/g,"Buchstaben").replace(/with optional space/g,"mit optionalem Leerzeichen").replace(/\bformat\b/gi,"Format").replace(/e\.g\./g,"z.B.").replace(/\bor\b/g,"oder")}let b={Germany:{pattern:/^(?:0[1-9]|[1-9][0-9])[0-9]{3}$/,min:1001,max:99998,format:"5 digits (01001-99998)"},Austria:{pattern:/^[1-9][0-9]{3}$/,format:"4 digits (1000-9999)"},Switzerland:{pattern:/^[1-9][0-9]{3}$/,format:"4 digits (1000-9999)"},"United Kingdom":{pattern:/^([A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}|GIR ?0AA)$/i,format:"UK format (e.g., SW1A 1AA)"},France:{pattern:/^(?:0[1-9]|[1-8][0-9]|9[0-8])[0-9]{3}$/,format:"5 digits (01000-98999)"},Italy:{pattern:/^[0-9]{5}$/,format:"5 digits (00010-99999)"},Spain:{pattern:/^(?:0[1-9]|[1-4][0-9]|5[0-2])[0-9]{3}$/,format:"5 digits (01000-52999)"},Netherlands:{pattern:/^[1-9][0-9]{3} ?[A-Z]{2}$/i,format:"4 digits + 2 letters (e.g., 1234 AB)"},Belgium:{pattern:/^[1-9][0-9]{3}$/,format:"4 digits (1000-9999)"},Poland:{pattern:/^[0-9]{2}-[0-9]{3}$/,format:"2 digits-3 digits (e.g., 00-999)"},Sweden:{pattern:/^[0-9]{3} ?[0-9]{2}$/,format:"5 digits with optional space (e.g., 123 45)"},Denmark:{pattern:/^[1-9][0-9]{3}$/,format:"4 digits (1000-9999)"},Norway:{pattern:/^[0-9]{4}$/,format:"4 digits (0001-9999)"},Finland:{pattern:/^[0-9]{5}$/,format:"5 digits (00000-99999)"},Portugal:{pattern:/^[1-9][0-9]{3}-[0-9]{3}$/,format:"4 digits-3 digits (e.g., 1000-999)"},"Czech Republic":{pattern:/^[0-9]{3} ?[0-9]{2}$/,format:"5 digits with optional space (e.g., 123 45)"},Hungary:{pattern:/^[1-9][0-9]{3}$/,format:"4 digits (1000-9999)"},Romania:{pattern:/^[0-9]{6}$/,format:"6 digits"},Greece:{pattern:/^[0-9]{3} ?[0-9]{2}$/,format:"5 digits with optional space"},Ireland:{pattern:/^(?:[A-Z][0-9]{2} ?[A-Z0-9]{4}|[A-Z]{3} ?[A-Z0-9]{4})$/i,format:"Irish format (e.g., D02 AF30)"},"United States":{pattern:/^[0-9]{5}(-[0-9]{4})?$/,format:"5 digits or 5+4 (e.g., 12345 or 12345-6789)"},Canada:{pattern:/^[A-Z][0-9][A-Z] ?[0-9][A-Z][0-9]$/i,format:"A1A 1A1 format"},Australia:{pattern:/^[0-9]{4}$/,format:"4 digits (0200-9999)"},"New Zealand":{pattern:/^[0-9]{4}$/,format:"4 digits (0110-9999)"},Japan:{pattern:/^[0-9]{3}-[0-9]{4}$/,format:"3 digits-4 digits (e.g., 100-0001)"},"South Korea":{pattern:/^[0-9]{5}$/,format:"5 digits"},China:{pattern:/^[0-9]{6}$/,format:"6 digits"},India:{pattern:/^[0-9]{6}$/,format:"6 digits"},Brazil:{pattern:/^[0-9]{5}-?[0-9]{3}$/,format:"5 digits-3 digits (e.g., 12345-678)"},Mexico:{pattern:/^[0-9]{5}$/,format:"5 digits"},Russia:{pattern:/^[0-9]{6}$/,format:"6 digits"}},u={ZIP_IS_VALID:!1,CAN_SUBMIT:!1,isEnglishSite:y,translateZipFormat:v,errorMessages:{zip_required:{de:"Bitte geben Sie eine g\xFCltige Postleitzahl ein",en:"Please enter a valid ZIP code"},zip_invalid:{de:"Ung\xFCltige Postleitzahl f\xFCr {country}. Erwartetes Format: {format}",en:"Invalid ZIP code for {country}. Expected format: {format}"},email_required:{de:"Bitte geben Sie eine E-Mail-Adresse ein",en:"Please enter an email address"},gender_required:{de:"Bitte w\xE4hlen Sie ein Geschlecht aus",en:"Please select a gender"},country_required:{de:"Bitte w\xE4hlen Sie ein Land aus",en:"Please select a country"},gdpr_required:{de:"Bitte akzeptieren Sie die Datenschutzerkl\xE4rung",en:"Please accept the privacy policy"},email_exists:{de:"Diese E-Mail-Adresse ist bereits registriert. Bitte verwenden Sie eine andere E-Mail-Adresse.",en:"This email is already registered. Please use a different email address."},signup_error:{de:"Bei der Verarbeitung Ihrer Anmeldung ist ein Problem aufgetreten. Bitte versuchen Sie es in einem Moment erneut.",en:"There was a problem processing your signup. Please try again in a moment."},network_error:{de:"Verbindungsfehler. Bitte \xFCberpr\xFCfen Sie Ihre Internetverbindung und versuchen Sie es erneut.",en:"Connection error. Please check your internet and try again."},generic_error:{de:"Etwas ist schiefgelaufen. Bitte versuchen Sie es erneut.",en:"Something went wrong. Please try again."}},getErrorMessage:function(e){let a=this.isEnglishSite()?"en":"de";return this.errorMessages[e]?this.errorMessages[e][a]:this.errorMessages.generic_error[a]},updateSubmitButtonState:function(){let e=document.querySelector("#wf-form-Waitlist-Form"),a=e&&(e.querySelector('input[name="Postleitzahl"], input[name="zip"]')||e.querySelector('select[name="gender"], select[name="Gender"], select[name="Geschlecht"]')||e.querySelector('#country, select[name="country"]'));if(e&&a){let t=e.querySelector('input[type="submit"], button[type="submit"], .w-button');t&&(this.ZIP_IS_VALID?t.hasAttribute("data-submitting")||(t.disabled=!1,t.style.opacity="1",t.style.cursor="pointer",t.removeAttribute("data-disabled-reason")):(t.disabled=!0,t.style.opacity="0.5",t.style.cursor="not-allowed",t.setAttribute("data-disabled-reason","invalid-zip")))}}},r={zipValid:!1,emailValid:!1,genderValid:!1,gdprValid:!1,countryValid:!1,checkFormValidity:function(){let e=document.querySelectorAll("#wf-form-Waitlist-Form"),a=this;e.forEach(function(t){if(!(t.querySelector('input[name="Postleitzahl"], input[name="zip"]')||t.querySelector('select[name="gender"], select[name="Gender"], select[name="Geschlecht"]')||t.querySelector('#country, select[name="country"]')))return;let n=t.querySelector('input[type="submit"], button[type="submit"], .w-button');if(n){let o=a.emailValid&&a.zipValid&&a.genderValid&&a.gdprValid&&a.countryValid;n.disabled=!o,n.style.opacity=o?"1":"0.6",n.style.cursor=o?"pointer":"not-allowed"}})}};function _(e,a){let t;return function(...n){let o=()=>{t=null,e.apply(this,n)};clearTimeout(t),t=setTimeout(o,a)}}function g(e,a,t,d){let n=e.closest(".form_field"),o=n?n.closest(".form_field-wrap"):null,c=o?o.querySelector(".form_validation"):null;switch(e.classList.remove("zip-validating","zip-valid","zip-invalid"),n&&n.classList.remove("error"),c&&c.classList.remove("show"),a){case"typing":e.classList.add("zip-validating");break;case"valid":e.classList.add("zip-valid"),e.setAttribute("aria-invalid","false");break;case"invalid":if(e.classList.add("zip-invalid"),e.setAttribute("aria-invalid","true"),n&&n.classList.add("error"),c&&(t||d)){let m=t;if(!m&&d&&d.format){let p=document.querySelector('#country, select[name="country"], select[name="Country"]'),S=p?p.value:"",l=v(d.format);m=u.getErrorMessage("zip_invalid").replace("{country}",S||"").replace("{format}",l)}m&&(c.textContent=m,c.classList.add("show"))}break;case"empty":e.setAttribute("aria-invalid","false");break}}function h(e,a,t,d){if(!a){g(e,"empty");return}let n=document.querySelector('#country, select[name="country"], select[name="Country"]'),o=n?n.value:"";if(!o){d&&g(e,"invalid","Please select a country first");return}let c=b[o];if(!c){g(e,"valid"),r.zipValid=!0,u.ZIP_IS_VALID=!0,r.checkFormValidity();return}let m=c.pattern.test(a);if(m&&c.min&&c.max){let p=parseInt(a);m=p>=c.min&&p<=c.max}m?(r.zipValid=!0,u.ZIP_IS_VALID=!0,g(e,"valid")):(r.zipValid=!1,u.ZIP_IS_VALID=!1,d&&g(e,"invalid",null,c)),r.checkFormValidity()}function F(){let e=document.querySelectorAll('input[name="Postleitzahl"], input[id="Postleitzahl"], input[name="zip"], input[name="Zip"], input[name="ZIP"], input[id="zip"], input[id="Zip"], input[placeholder*="zip" i], input[placeholder*="postleitzahl" i], input[placeholder*="postal" i]');if(e.length===0)return;e.forEach(function(t){(!t.placeholder||t.placeholder.trim()==="")&&(t.placeholder=" "),t.value?h(t,t.value.trim(),!1,!1):(r.zipValid=!1,u.ZIP_IS_VALID=!1,r.checkFormValidity());let d=_(function(){h(t,t.value.trim(),!1,!1)},500);t.addEventListener("input",function(n){n.target.value.trim()?(g(t,"typing"),d()):(r.zipValid=!1,u.ZIP_IS_VALID=!1,r.checkFormValidity(),g(t,"empty"))}),t.addEventListener("blur",function(n){let o=n.target.value.trim();o?h(t,o,!0,!0):(r.zipValid=!1,u.ZIP_IS_VALID=!1,r.checkFormValidity())}),t.setAttribute("aria-invalid","false")});let a=document.querySelector('#country, select[name="country"], select[name="Country"]');a&&(a.value||(a.value="Germany"),a.addEventListener("change",function(){e.forEach(function(t){t.value&&h(t,t.value.trim(),!1,!0)})}))}function L(){let e=document.querySelector("#wf-form-Waitlist-Form"),a=e&&(e.querySelector('input[name="Postleitzahl"], input[name="zip"]')||e.querySelector('select[name="gender"], select[name="Gender"], select[name="Geschlecht"]')||e.querySelector('#country, select[name="country"]'));if(!e||!a)return;e.querySelectorAll('input[type="email"], input[name="email"], input[name="Email"]').forEach(function(l){r.emailValid=l.value&&l.value.includes("@"),r.checkFormValidity(),l.addEventListener("input",function(i){r.emailValid=i.target.value&&i.target.value.includes("@"),r.checkFormValidity()}),l.addEventListener("blur",function(i){let s=i.target.closest(".form_field-wrap")||i.target.closest(".form_field");if(s){let f=s.querySelector(".form_validation");f&&(i.target.value?i.target.value.includes("@")?f.classList.remove("show"):(f.textContent=y()?"Please enter a valid email address":"Bitte geben Sie eine g\xFCltige E-Mail-Adresse ein",f.classList.add("show")):(f.textContent=u.getErrorMessage("email_required"),f.classList.add("show")))}})});let d=e.querySelector('input[type="checkbox"][name="checkbox"]');d&&(r.gdprValid=d.checked,d.addEventListener("change",function(l){var s;r.gdprValid=l.target.checked;let i=(s=l.target.closest(".form_field-wrap"))==null?void 0:s.querySelector(".form_validation");i&&(l.target.checked?i.classList.remove("show"):i.classList.add("show")),r.checkFormValidity()}));function n(){for(var l='select[name="gender"], select[name="Gender"], select[name="Geschlecht"]',i=document.querySelectorAll(l),s=0;s<i.length;s++)if(i[s].value&&i[s].value!=="")return i[s].value;return""}function o(){for(var l='#country, select[name="country"], select[name="Country"]',i=document.querySelectorAll(l),s=0;s<i.length;s++)if(i[s].value&&i[s].value!=="")return i[s].value;return""}function c(){var l=n(),i=o();r.genderValid=l!=="",r.countryValid=i!=="",r.checkFormValidity()}var m=document.querySelectorAll('select[name="gender"], select[name="Gender"], select[name="Geschlecht"]');m.forEach(function(l){l.addEventListener("change",function(i){r.genderValid=i.target.value&&i.target.value!=="";var s=i.target.closest(".form_field");if(s){var f=s.querySelector(".form_validation");f&&(i.target.value?f.classList.remove("show"):f.classList.add("show"))}r.checkFormValidity()})});var p=document.querySelectorAll('#country, select[name="country"], select[name="Country"]');p.forEach(function(l){l.addEventListener("change",function(i){r.countryValid=i.target.value&&i.target.value!=="",r.checkFormValidity()})});var S=document.querySelectorAll(".nice-select .list");S.forEach(function(l){l.addEventListener("click",function(i){var s=i.target.closest("li");s&&setTimeout(c,100)})}),c()}function V(){A("Initializing global form validation"),document.querySelectorAll(".w-form-done, .form_modal-form-sucess, .form-success-message").forEach(function(a){a.style.display="none"}),L(),F(),window.zipPatterns=b,window.FormValidator=u,window.FormState=r;try{Object.defineProperty(window,"FORM_ZIP_IS_VALID",{configurable:!0,get:function(){return u.ZIP_IS_VALID},set:function(a){u.ZIP_IS_VALID=a}})}catch{}try{Object.defineProperty(window,"FORM_CAN_SUBMIT",{configurable:!0,get:function(){return u.CAN_SUBMIT},set:function(a){u.CAN_SUBMIT=a}})}catch{}window.isEnglishSite=y,window.translateZipFormat=v,A("Global form validation ready")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",V):V()})();})();
